<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>BATRASCO Passenger App</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid px-3">
            <a class="navbar-brand" href="#home">BATRASCO</a>
            <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
                <i class="bi bi-list"></i>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navMenu">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link active" href="#home" data-section="home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#topup" data-section="topup">Top Up</a></li>
                    <li class="nav-item"><a class="nav-link" href="#planner" data-section="planner">Fare Planner</a></li>
                    <li class="nav-item"><a class="nav-link" href="#profile" data-section="profile">Profile</a></li> 
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-section" id="home">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">Seamless Journey,<br>Smart Transit</h1>
                <p class="hero-sub">Ride smarter with BATRASCO — plan trips, top up, and track fares in one place.</p>
            </div>
        </div>
    </header>

    <main class="app-container" id="app">

        <div class="balance-card animated-item" role="region" aria-label="Balance">
            <div class="bal-left">
                <p class="muted mb-1">Current Balance</p>
                <h2>₱350.25</h2>
            </div>
            <div class="d-flex gap-2">
                <button class="btn-topup animated-item" onclick="document.querySelector('#topup').scrollIntoView({behavior:'smooth'})"><i class="bi bi-wallet2 me-1"></i> Quick Top-Up</button>
                <button class="btn-qr animated-item" data-bs-toggle="modal" data-bs-target="#qrModal" aria-label="Show QR Code"><i class="bi bi-qr-code"></i></button>
            </div>
        </div>

        <section class="app-card animated-item" aria-labelledby="announcements-title">
            <h4 id="announcements-title" class="text-navy mb-2"><i class="bi bi-megaphone-fill me-2 icon-red"></i> Service Announcements</h4>
            
            <div id="announcement-list">
                <div class="notice-item text-navy small mb-2 p-2 rounded-3 border-start border-5 border-danger">
                    <i class="bi bi-exclamation-triangle-fill me-1 text-danger"></i> **URGENT:** Heavy Traffic near Startoll exit. Expect 11-minute delay.
                </div>
                <div class="notice-item text-navy small mb-2 p-2 rounded-3 border-start border-5 border-warning">
                    <i class="bi bi-calendar-x-fill me-1 text-warning"></i> Service Interruption on October 25. Check routes before travel.
                </div>
            </div>
        </section>

        <section id="topup">
            <h3 class="text-navy">Recharge & History</h3>

            <div class="topup-grid">
                <div class="app-card">
                    <h5 class="mb-1">Recharge Your Card</h5>
                    <p class="muted mb-2">Card ID: <b>15438621</b></p>

                    <label class="form-label" for="customAmount">Select or Enter Amount</label>
                    <div class="amount-buttons">
                        <button class="btn btn-outline-secondary animated-item" data-amount="20">₱20</button>
                        <button class="btn btn-outline-secondary animated-item" data-amount="40">₱40</button>
                        <button class="btn btn-outline-secondary animated-item" data-amount="50">₱50</button>
                        <button class="btn btn-outline-secondary animated-item" data-amount="100">₱100</button>
                    </div>
                    <input id="customAmount" type="number" class="form-control mb-3" placeholder="Custom amount (e.g., 250)">

                    <label class="form-label">Select E-Wallet/Payment Method</label>
                    <div class="ewallet-buttons mb-2">
                        <button class="gcash" data-wallet="gcash"><i class="bi bi-wallet-fill me-1"></i> GCash</button>
                        <button class="bank" data-wallet="bank"><i class="bi bi-bank me-1"></i> Bank Transfer</button>
                        <button class="maya" data-wallet="maya"><i class="bi bi-phone-fill me-1"></i> Maya</button>
                    </div>

                    <button class="proceed-btn animated-item" id="proceedPayment" disabled><i class="bi bi-credit-card-fill me-2"></i> Proceed to Payment</button>
                    <p class="muted small mt-2 mb-0 text-center">Please select an amount and payment method.</p>
                </div>

                <div class="app-card">
                    <h5 class="mb-2"><i class="bi bi-clock-history me-2 icon-red"></i>Recent Transactions</h5>
                    <div class="transactions" aria-live="polite">
                        <p><b>Sept 28, 2025 – 08:32 AM</b><br>Trip: SM Lipa → Mataas na Kahoy<br><span>Fare Deducted: ₱25.00</span><br><span>Remaining Balance: ₱350.25</span></p>

                        <p><b>Sept 27, 2025 – 06:15 PM</b><br>Trip: Mcdo La Salle → SM Lipa<br><span>Fare Deducted: ₱20.00</span><br><span>Remaining Balance: ₱375.25</span></p>

                        <p><b>Sept 27, 2025 – 03:45 PM</b><br>Top Up via GCash<br><span>Amount Added: ₱200.00</span><br><span>New Balance: ₱395.25</span></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="planner" class="mt-3">
            <h3 class="text-navy text-center">Fare & Route Planner</h3>
            <div class="app-card planner-card animated-item" role="region" aria-label="Fare planner">
                <div style="flex:1 1 360px;min-width:220px;">
                    <h5 class="mb-2"><i class="bi bi-geo-alt-fill me-2"></i>Calculate Fare</h5>

                    <label class="form-label">Select Passenger Type</label>
                    <div class="passenger-type mb-2" role="group" aria-label="Passenger Type Selection">
                        <button class="active" data-type="regular">Regular</button>
                        <button data-type="student">Student</button>
                        <button data-type="senior">Senior Citizen</button>
                        <button data-type="pwd">PWD</button>
                    </div>

                    <label class="form-label" for="origin">Origin</label>
                    <select id="origin" class="form-select mb-2">
                        <option value="">Select Origin Terminal/Stop</option>
                        <option value="SM Lipa">SM Lipa</option>
                        <option value="Mcdo La Salle">Mcdo La Salle</option>
                        <option value="Mataas na Kahoy proper">Mataas na Kahoy proper</option>
                        <option value="Banaybanay">Banaybanay</option>
                        <option value="Robinsons Lipa">Robinsons Lipa</option>
                        <option value="Tambo">Tambo</option>
                        <option value="Airbase">Airbase</option>
                        <option value="Balintawak">Balintawak</option>
                        <option value="Big Ben">Big Ben</option>
                    </select>

                    <label class="form-label" for="destination">Destination</label>
                    <select id="destination" class="form-select mb-3">
                        <option value="">Select Destination Terminal/Stop</option>
                        <option value="Mataas na Kahoy proper">Mataas na Kahoy proper</option>
                        <option value="SM Lipa">SM Lipa</option>
                        <option value="Mcdo La Salle">Mcdo La Salle</option>
                        <option value="Banaybanay">Banaybanay</option>
                        <option value="Robinsons Lipa">Robinsons Lipa</option>
                        <option value="Tambo">Tambo</option>
                        <option value="Airbase">Airbase</option>
                        <option value="Balintawak">Balintawak</option>
                        <option value="Big Ben">Big Ben</option>
                    </select>

                    <button id="estimateFare" class="proceed-btn animated-item w-100" disabled><i class="bi bi-calculator me-2"></i> Estimate Fare</button>

                    <div id="fareResult" class="mt-3 p-3 rounded-3 text-center animated-item" style="background:var(--light);border:2px solid var(--orange);">
                        <h5 class="text-danger mb-0">Estimated Fare: ₱XX.XX</h5>
                        <p class="muted small mb-0">(Tolls and Discounts not included in estimate)</p>
                    </div>
                </div>

                <div style="flex:1 1 320px;">
                    <div id="map" aria-label="Route map for fare planning"></div>
                </div>
            </div>
        </section>

        <section id="profile" class="mt-3">
            <h3 class="text-navy text-center">Passenger Profile</h3>

            <div class="app-card p-0 animated-item">
                <div class="profile-header">
                    <div class="avatar"><i class="bi bi-person-fill"></i></div>
                    <h5 class="mb-0">Jeon Wonwoo</h5>
                    <p class="muted small mb-0">Registered User since Jan 2024</p>
                </div>

                <div class="list-group list-group-flush profile-info-list">
                    <div class="list-group-item"><span class="label">Card ID</span><span class="value">15438621-P</span></div>
                    <div class="list-group-item"><span class="label">Passenger Type</span><span class="value text-red font-weight-800">Student</span></div>
                    <div class="list-group-item"><span class="label">Discount Status</span><span class="value text-green font-weight-700">Active (20% Off)</span></div>
                    <div class="list-group-item"><span class="label">Email</span><span class="value">wonwoo@gmail.com</span></div>
                    <div class="list-group-item"><span class="label">Mobile Number</span><span class="value">0998 567 8901</span></div>
                    <div class="list-group-item"><span class="label">Emergency Contact</span><span class="value">Choi Seungcheol (0917 XXX XXXX)</span></div>
                </div>
                 <div class="p-3 d-flex justify-content-between gap-2"> 
                    <button class="btn-secondary btn w-50" data-bs-toggle="modal" data-bs-target="#qrModal"><i class="bi bi-qr-code me-2"></i> Show Card QR</button>
                    <button class="proceed-btn animated-item w-50" style="background-color:#E95C3C;margin-top:0;"><i class="bi bi-box-arrow-right me-2"></i> Log Out</button>
                </div>
            </div>
        </section>

    </main>
    
    <div class="modal fade" id="qrModal" tabindex="-1" aria-labelledby="qrModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-blue text-white rounded-top-2">
            <h5 class="modal-title text-white" id="qrModalLabel">BATRASCO Card ID: 15438621-P</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">
            <p>Scan this code to board.</p>
            <div id="qr-code-placeholder" style="width: 100%; height: 200px; background: var(--light); display: flex; justify-content: center; align-items: center; border-radius: 8px;">
                <i class="bi bi-qr-code-scan" style="font-size: 4rem; color: var(--);"></i>
            </div>
            <p class="mt-2 small text-muted">Last update: 3:30 PM</p>
          </div>
        </div>
      </div>
    </div>
    <nav class="bottom-nav d-lg-none" aria-label="Bottom navigation">
        <a href="#home" class="active" data-section="home"><i class="bi bi-house-door-fill"></i><span>Home</span></a>
        <a href="#topup" data-section="topup"><i class="bi bi-credit-card-fill"></i><span>Top Up</span></a>
        <a href="#planner" data-section="planner"><i class="bi bi-map-fill"></i><span>Planner</span></a>
        <a href="#profile" data-section="profile"><i class="bi bi-person-fill"></i><span>Profile</span></a>
    </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>